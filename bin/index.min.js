(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"));
	else if(typeof define === 'function' && define.amd)
		define("react-paypal-button", ["react"], factory);
	else if(typeof exports === 'object')
		exports["react-paypal-button"] = factory(require("react"));
	else
		root["react-paypal-button"] = factory(root["react"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__2__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _PayPalButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PayPalButton", function() { return _PayPalButton__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_1__) if(["PayPalButton","default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _types__WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));



/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);



function PayPalButton(props) {
  var _usePaypalScript = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["usePaypalScript"])(props.paypalOptions),
      loading = _usePaypalScript.loading,
      done = _usePaypalScript.done;

  var methods = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["usePaypalMethods"])(props);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    // check for window to support SSR
    if (window !== undefined) {
      if (!loading && done) {
        window.paypal.Buttons({
          style: props.buttonStyles,
          amount: props.amount,
          createOrder: methods.createOrder,
          onApprove: methods.onApprove,
          onCancel: methods.onCancel,
          onShippingChange: methods.onShippingChange,
          payment: methods.payment
        }).render('#paypal-button');
      }
    }
  }, [loading, done]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "paypal-button"
  });
}

/* harmony default export */ __webpack_exports__["default"] = (PayPalButton);

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__2__;

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _usePaypalMethods__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "usePaypalMethods", function() { return _usePaypalMethods__WEBPACK_IMPORTED_MODULE_0__["usePaypalMethods"]; });

/* harmony import */ var _usePaypalScript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "usePaypalScript", function() { return _usePaypalScript__WEBPACK_IMPORTED_MODULE_1__["usePaypalScript"]; });

/* harmony import */ var _composeUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "composeUrl", function() { return _composeUrl__WEBPACK_IMPORTED_MODULE_2__["composeUrl"]; });

/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scriptLoadError", function() { return _constants__WEBPACK_IMPORTED_MODULE_3__["scriptLoadError"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "authError", function() { return _constants__WEBPACK_IMPORTED_MODULE_3__["authError"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "captureError", function() { return _constants__WEBPACK_IMPORTED_MODULE_3__["captureError"]; });






/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "usePaypalMethods", function() { return usePaypalMethods; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);


function usePaypalMethods(props) {
  var onApprove = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (data, actions) {
    if (props.paypalOptions.intent === 'capture') {
      return actions.order.capture().then(function (details) {
        if (props.onPaymentSuccess) {
          props.onPaymentSuccess(details);
        }
      })["catch"](function (e) {
        if (props.onPaymentError) {
          props.onPaymentError(e);
        }

        console.error(_constants__WEBPACK_IMPORTED_MODULE_1__["captureError"], "\n          Original error message: ".concat(e.message, "\n        "));
      });
    } else {
      actions.order.authorize().then(function (auth) {
        var id = auth.purchase_units[0].payments.authorizations[0].id;

        if (props.onApprove !== undefined) {
          props.onApprove(data, id);
        }
      })["catch"](function (e) {
        if (props.onPaymentError) {
          props.onPaymentError(e);
        }

        console.error(_constants__WEBPACK_IMPORTED_MODULE_1__["authError"], "\n          Original error message: ".concat(e.message, "\n        "));
      });
    }
  }, []);
  var createOrder = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (data, actions) {
    if (props.onPaymentStart) {
      props.onPaymentStart();
    }

    return actions.order.create({
      purchase_units: [{
        amount: {
          value: props.amount
        }
      }]
    });
  }, []);
  var payment = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (data, actions) {
    return actions.payment.create({
      transactions: [{
        amount: {
          total: props.amount,
          currency: props.paypalOptions.currency
        }
      }]
    });
  }, []);
  var onShippingChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (data, actions) {
    if (props.onShippingChange) {
      Promise.resolve(props.onShippingChange(data)).then(function (rate) {
        // early exit if user doesn't return a value
        if (!rate) {
          return actions.resolve();
        }

        var baseOrderAmount = "".concat(props.amount);
        var shippingAmount = "".concat(rate);
        var value = (parseFloat(baseOrderAmount) + parseFloat(shippingAmount)).toFixed(2);
        var currency_code = props.paypalOptions.currency;
        return actions.order.patch([{
          op: 'replace',
          path: '/purchase_units/@reference_id==\'default\'/amount',
          value: {
            currency_code: currency_code,
            value: value,
            breakdown: {
              item_total: {
                currency_code: currency_code,
                value: baseOrderAmount
              },
              shipping: {
                currency_code: currency_code,
                value: shippingAmount
              }
            }
          }
        }]);
      });
    } else {
      return actions.resolve();
    }
  }, []);
  var onCancel = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (data) {
    if (props.onPaymentCancel) {
      props.onPaymentCancel(data);
    }
  }, []);
  return {
    onApprove: onApprove,
    onCancel: onCancel,
    onShippingChange: onShippingChange,
    createOrder: createOrder,
    payment: payment
  };
}

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scriptLoadError", function() { return scriptLoadError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authError", function() { return authError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "captureError", function() { return captureError; });
var scriptLoadError = "\n  react-paypal-button error loading script.\n  Make sure the values you are passing to the paypalOptions prop are valid. Specifically check that\n  your clientID is correct and that the intent prop is set to either \"authorize\" or \"capture\"\n";
var authError = "\nreact-paypal-button authorization error.\nThis is likely an issue with paypal's api and the way they are handling their session data.\nTry closing and reopening your browser\n";
var captureError = "\n  react-paypal-button capture error.\n  This is likely an issue with paypal's api and the way they are handling their session data.\n  Try closing and reopening your browser\n";

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "usePaypalScript", function() { return usePaypalScript; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);



function usePaypalScript(options) {
  var scriptCache = [];
  var url = Object(___WEBPACK_IMPORTED_MODULE_2__["composeUrl"])(options);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(true),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      loading = _useState2[0],
      setLoading = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
      error = _useState4[0],
      setError = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 2),
      done = _useState6[0],
      setDone = _useState6[1];

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    // early exit if cache is in script
    if (scriptCache.includes(url)) {
      setLoading(false);
      setDone(true), setError(false);
    } else {
      scriptCache.push(url);
    }

    var script = document.createElement('script');
    script.src = url;
    script.async = true;

    var onScriptLoad = function onScriptLoad() {
      setLoading(false);
      setDone(true), setError(false);
    };

    var onScriptError = function onScriptError() {
      // if we error out, retry by removing the url from the cache
      var urlIndex = scriptCache.indexOf(url);

      if (urlIndex !== -1) {
        scriptCache.splice(urlIndex, 1);
        script.remove();
      }

      console.error(___WEBPACK_IMPORTED_MODULE_2__["scriptLoadError"]);
      setLoading(false);
      setDone(true), setError(true);
    };

    script.addEventListener('load', onScriptLoad);
    script.addEventListener('error', onScriptError);
    document.body.appendChild(script);
    return function () {
      script.removeEventListener('load', onScriptLoad);
      script.removeEventListener('error', onScriptError);
    }; // rerun if url changes
  }, [url]);
  return {
    loading: loading,
    error: error,
    done: done
  };
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(8);

var iterableToArrayLimit = __webpack_require__(9);

var nonIterableRest = __webpack_require__(10);

function _slicedToArray(arr, i) {
  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();
}

module.exports = _slicedToArray;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

module.exports = _arrayWithHoles;

/***/ }),
/* 9 */
/***/ (function(module, exports) {

function _iterableToArrayLimit(arr, i) {
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

module.exports = _iterableToArrayLimit;

/***/ }),
/* 10 */
/***/ (function(module, exports) {

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

module.exports = _nonIterableRest;

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "composeUrl", function() { return composeUrl; });
var composeUrl = function composeUrl(options) {
  var baseUrl = 'https://www.paypal.com/sdk/js';
  var queryString = Object.keys(options).reduce(function (prevParams, currentValue, index) {
    var camelCaseToDash = currentValue.split(/(?=[A-Z])/).join('-').toLowerCase();
    var keyValuePair = "".concat(camelCaseToDash, "=").concat(options[currentValue]); // combine the previous key value pairs with the current one
    // seperated by an '&' symbol except for the first key value pair

    return "".concat(prevParams).concat(index === 0 ? '' : '&').concat(keyValuePair);
  }, '?');
  var url = "".concat(baseUrl).concat(queryString);
  return url;
};

/***/ }),
/* 12 */
/***/ (function(module, exports) {



/***/ })
/******/ ]);
});